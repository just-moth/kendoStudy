<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>5custom</title>
    <link href="/kendoUI/styles/kendo.common.min.css" rel="stylesheet"/>
    <link href="/kendoUI/styles/kendo.default.min.css" rel="stylesheet"/>
    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/kendoUI/js/kendo.all.min.js"></script>
</head>
<body>
<!--basic-->
<script>
    (function($) {
        // shorten references to variables. this is better for uglification
        var kendo = window.kendo,
            ui = kendo.ui,
            Widget = ui.Widget

        var MyWidget = Widget.extend({
            // initialization code goes here
        });

    })(jQuery);
</script>

<!--添加初始化方法-->
<script>
    (function($) {

        // shorten references to variables. this is better for uglification var kendo = window.kendo,
        ui = kendo.ui,
            Widget = ui.Widget

        var MyWidget = Widget.extend({

            init: function(element, options) {

                // base call to widget initialization
                Widget.fn.init.call(this, element, options);

            },

            options: {
                // the name is what it will appear as off the kendo namespace(i.e. kendo.ui.MyWidget).
                // The jQuery plugin would be jQuery.fn.kendoMyWidget.
                name: "MyWidget"
                // other options go here
        }

    });

        ui.plugin(MyWidget);

    })(jQuery);
</script>

<!--使用数据源,处理事件-->
<script>
    (function($) {
        var kendo = window.kendo,
            ui = kendo.ui,
            Widget = ui.Widget,
            CHANGE = "change";
        var Repeater = kendo.ui.Widget.extend({
            init: function(element, options) {
                var that = this;
                kendo.ui.Widget.fn.init.call(that, element, options);
                // initialize or create dataSource
                that._dataSource();
            },
            options: {
                name: "Repeater"
            },
            _dataSource: function() {
                var that = this;
                // returns the datasource OR creates one if using an array or a configuration
                that.dataSource = kendo.data.DataSource.create(that.options.dataSource);

                //绑定刷新事件
                // bind to the change event to refresh the widget
                that.dataSource.bind(CHANGE, function() {
                    //实现刷新功能
                    that.refresh();
                });
            }
        });
        kendo.ui.plugin(Repeater);
    })(jQuery);
</script>

<script>
    (function() {
        var kendo = window.kendo,
            ui = kendo.ui,
            Widget = ui.Widget,

            CHANGE = "change";

        var Repeater = Widget.extend({
            init: function(element, options) {
                var that = this;

                kendo.ui.Widget.fn.init.call(that, element, options);
                /*模版*/
                that.template = kendo.template(that.options.template || "<p><strong>#= data #</strong></p>");

                that._dataSource();
            },
            options: {
                name: "Repeater",
                /*自动绑定到添加选项*/
                autoBind: true,
                /*使用模版*/
                template: ""
            },
            /*实现刷新功能*/
            refresh: function() {
                var that = this,
                    view = that.dataSource.view(),
                    html = kendo.render(that.template, view);

                that.element.html(html);
            },
            _dataSource: function() {
                var that = this;
                // returns the datasource OR creates one if using array or configuration object

                that.dataSource = kendo.data.DataSource.create(that.options.dataSource);

                // bind to the change event to refresh the widget
                that.dataSource.bind(CHANGE, function() {
                    that.refresh();
                });

                //从数据源获取
                // trigger a read on the dataSource if one hasn't happened yet
                if (that.options.autoBind) {
                    that.dataSource.fetch();
                }
            }
        });

        ui.plugin(Repeater);

    })(jQuery);
</script>

<!--完整案例-->
<div id="repeater"></div>

<div id="container">
    <div data-role="repeater" data-source="dataSource" data-template="template"></div>
</div>

<script type="text/x-kendo-template" id="template">
    <div style="float: left; color: salmon; margin-right: 10px"><h1>#= data.ProductName #</h1></div>
</script>

<script>
    (function() {
        var kendo = window.kendo,
            ui = kendo.ui,
            Widget = ui.Widget,

            CHANGE = "change";

        var Repeater = Widget.extend({
            init: function(element, options) {
                var that = this;

                kendo.ui.Widget.fn.init.call(that, element, options);
                that.template = kendo.template(that.options.template || "<p><strong>#= data #</strong></p>");

                that._dataSource();
            },
            options: {
                name: "Repeater",
                autoBind: true,
                template: ""
            },
            refresh: function() {
                var that = this,
                    view = that.dataSource.view(),
                    html = kendo.render(that.template, view);

                that.element.html(html);
            },
            _dataSource: function() {
                var that = this;
                // returns the datasource OR creates one if using array or configuration object

                that.dataSource = kendo.data.DataSource.create(that.options.dataSource);

                // bind to the change event to refresh the widget
                that.dataSource.bind(CHANGE, function() {
                    that.refresh();
                });

                if (that.options.autoBind) {
                    that.dataSource.fetch();
                }
            }
        });

        ui.plugin(Repeater);

    })(jQuery);



    var dataSource = new kendo.data.DataSource({
        type: "odata",
        transport: {
            read: "https://demos.telerik.com/kendo-ui/service/Northwind.svc/Products"
        }
    });

    kendo.bind($("#container"));

    $("#repeater").kendoRepeater({
        dataSource: [ "item1", "item2", "item3" ]
    });
</script>
</body>
</html>